# APBP

## MMIO Layout

```
Command/Reply registers
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00C0    |                             REPLY0                            |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00C2    |                              CMD0                             |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00C4    |                             REPLY1                            |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00C6    |                              CMD1                             |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00C8    |                             REPLY2                            |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00CA    |                              CMD2                             |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#

REPLY0..2: data sent from DSP to ARM
CMD0..2: data received from ARM to DSP

Semaphore registers
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00CC    |                         SET_SEMAPHORE                         |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00CE    |                         MASK_SEMAPHORE                        |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00D0    |                         ACK_SEMAPHORE                         |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00D2    |                         GET_SEMAPHORE                         |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#

SET_SEMAPHORE: semaphore sent from DSP to ARM
MASK_SEMAPHORE: masks semaphore interrupt received from ARM to DSP
ACH_SEMAPHORE: acknowledges/clears semaphore received from ARM to DSP
GET_SEMAPHORE: semaphore received from ARM to DSP

Interrupt/status registers
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00D4    |                       INTERRUPT_CONFIG?                       |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
|+0x00D6    |   |   | C3| C2|   |   | S | C0| R2| R1| R0|   |   |   |   |   |
+-----------#---+---+---+---#---+---+---+---#---+---+---+---#---+---+---+---#
R0..R2: 1 when there is data in REPLY0..2
C0..C2: 1 when there is data in CMD0..2
S: 1 when semaphore received from ARM to DSP

```
